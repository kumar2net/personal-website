# Personal Website

[![Netlify Status](https://api.netlify.com/api/v1/badges/bfc9b371-d915-45d3-a051-c92d45dd1206/deploy-status)](https://app.netlify.com/projects/kumarweb/deploys)

Personal site for Kumar A. built with React and Vite. The project bundles together long‑form writing, project dossiers, utilities dashboards, book notes, and AI‑assisted experiments that run off Netlify Functions and a lightweight Python backend.

## Live Site

- **Production**: https://kumar2net.com  
- **Primary branch**: `master`

## Latest Highlights · November 19, 2025

- **Engagement Features**: Refactored "Weekly Whisper" with a modern glassmorphism design and fixed dark mode visibility. Removed "Vibe Check" and "Reader Tip" components for a cleaner reading experience.
- **Dark Mode Polish**: Implemented comprehensive dark mode fixes across blog posts, ensuring all text (including legacy Tailwind gray classes) is visible and compliant with MUI v8 theming.
- **MUI Compliance**: Added Google Fonts (Inter, Roboto) and Material Icons to `index.html` to fully align with MUI design guidelines.
- **Local Dev**: Fixed API routing for `/api/engagement` to prevent 404 errors during local development.

See `docs/CHANGELOG.md` for a detailed history.

## Feature Snapshot

- **Blog & Knowledge Library** – Rich MD/JSX posts with badges, tables, embeds, and a semantic-search powered landing page.
- **Projects Hub** – Narrative write-ups paired with motion-enhanced visuals, plus deep dives like the AI recommender code viewer.
- **AI & Analytics Utilities** – Serverless functions for topic recommendations, semantic search backed by Gemini embeddings, tech-trend aggregation, and CMS helpers.
- **Dashboards** – Utilities spending dashboard, status page, dossier timelines, and other data-first explorations.
- **Books & Notes** – Mixed media content (Markdown, PDF excerpts, DOCX conversions) routed through lazily loaded page bundles.
- **Backend Support** – Optional Node/Python services that feed GA4 + BigQuery powered recommendations.
- **Observability** – Vercel Speed Insights instrumentation baked into the root React tree for real-user performance analytics without extra setup.

## Tech Stack Overview

| Layer | Details |
|-------|---------|
| **Frontend** | React 18, Vite 5, React Router 6, Tailwind CSS, Framer Motion, Vercel Speed Insights |
| **Content** | Markdown + MDX-style JSX pages, `react-markdown`, `gray-matter`, custom SVG assets |
| **Serverless** | `apps/personal-website/api/*.js` (Vercel/Netlify compatible) for conversions, semantic search, feeds, journaling |
| **Backend (optional)** | Python scripts + services in `backend/` for BigQuery and Vertex AI integrations |
| **Tooling** | ESLint 9, Biome, Codemon CLI, Netlify CLI, Node 18 |

## Repository Layout

```
personal-website/
├── src/                  # React source (components, pages, data helpers)
├── api/                  # (under apps/personal-website) Serverless endpoints (convert, semantic-search, feeds, generations)
├── backend/              # Python + node service scripts for GA4/BQ workflows
├── docs/                 # Architecture, deployment, changelog, research notes
├── public/               # Static assets served by Netlify
├── scripts/              # Utility and test runners
└── src/data/semantic-index.json  # Gemini embedding index generated by scripts/build-semantic-index.mjs
```

## Local Development

### Prerequisites

- Node.js 18+
- npm (ships with Node 18)

### Setup

```bash
git clone https://github.com/kumar2net/personal-website.git
cd personal-website
npm install
```

### Semantic Search Index

The semantic search API reads vectors from `src/data/semantic-index.json`. Regenerate it whenever blog content changes:

```bash
npm run --workspace apps/personal-website semantic:index
```

The script loads every `src/pages/blog/*.jsx` file, strips JSX to text, calls Gemini `text-embedding-004`, and snapshots the embeddings plus metadata into the JSON index. Production builds run the same command via `npm run build`, so keeping `GEMINI_API_KEY` set ensures Vercel/Netlify builds stay up to date. Google now requires OAuth credentials for server-side embeddings, so add `GCP_SERVICE_ACCOUNT_JSON` (or `GCP_SERVICE_ACCOUNT_JSON_BASE64` if your host dislikes multiline env vars) to Vercel/Netlify so `/api/semantic-search` can mint access tokens at runtime.

### Start a Dev Server

```bash
# Default Vite dev server (fast iteration)
npm run dev

# Netlify-style environment with serverless functions
npm run dev:netlify
```

`npm run dev` uses the custom Vite middleware to proxy `/api/convert` and `/api/semantic-search` into the Node handlers so the semantic index is queried without deploying functions.

### Quality & Tooling

```bash
# Lint entire project
npm run lint

# Biome static analysis
npm run biome:check

# Test scripts (unit + e2e wrappers)
npm run test:all
```

### Build Output

```bash
npm run build
# Outputs to dist/
```

## Catch-up posts

The global "Catch up" pill highlights blog posts published since you last marked yourself as caught up.

- Storage: the most recent catch-up time is stored in `localStorage` under `user_last_catchup_v1`.
- Header UI: the navigation pill shows a badge with the number of new posts and opens a modal list capped at 12 items.
- Blog page: a banner surfaces the same count, lets you filter to recent posts, and exposes a "Mark as caught up" action.
- QA tip: inspect `user_last_catchup_v1` in your browser's localStorage to review or reset the stored timestamp.

## Deployment Notes

- Production hosting runs on Netlify with automated deploys from `master`.
- Build command: `npm run build`
- Publish directory: `dist/`
- Review `docs/DEPLOYMENT_STATUS.md` for pre-flight checks, quality gates, and manual deploy instructions.

## Additional Documentation

- `docs/ARCHITECTURE_AND_TECH_STACK.md` – System architecture, data flows, and service inventory.
- `docs/DEPLOYMENT_STATUS.md` – Deployment health, QA checklist, and monitoring pointers.
- `docs/CHANGELOG.md` – Time-stamped record of code/content updates.

For questions or follow-ups, open an issue or contact Kumar directly. Happy shipping!

---
